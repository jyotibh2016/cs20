<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Read JSON Demo</title>
</head>
<script   src="https://code.jquery.com/jquery-3.1.1.min.js"   integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="   crossorigin="anonymous"></script>

<body>
    <form>
        <label for="filter">Which Genere's Do You Want?</label>
        <select id="filter" name="filter">
          <option value="Pop">Pop</option>
          <option value="Rock">Rock</option>
          <option value="Alternative">Alternative</option>
          <option value="R&B">R&B</option>
          <option value="K-Pop">K-Pop</option>
        </select>
        <button type="submit" onclick="showSelected()">Filter</button>

        <script> 
            function showSelected() {
                var selectBox = document.getElementById("filter");
                var selectedValue = selectBox.options[selectBox.selectedIndex].value;
                // alert(selectedValue);

                $.get( "https://jyotibh2016.github.io/cs20/hw7/songs.json", 
                function( data ) {
                    str = JSON.stringify(data);
                    
                    data.forEach(function(song) { 
                        str = JSON.stringify(song);
                        document.write(song.title + "<br/>");

                        if (song.genres.includes(selectedValue)) {
                            document.write(song.title + " <br/>");
                            document.write("Artist(s): " + song.artists.join(', ') + "<br/>");
                            document.write("Genre(s): " + song.genres.join(', ') + "<br/>");
                            document.write("Released " + song.year + " <br/>")
                            document.write("<br/>");
                        }
                        
			        })

                });

            }

        </script>
    </form>


	<!-- <script language="javascript"> 

        $.get( "https://jyotibh2016.github.io/cs20/hw7/songs.json", 
                function( data ) {
                    str = JSON.stringify(data);
                    
                    data.forEach(function(song) { 
                        str = JSON.stringify(song);
                        document.write(song.title + " <br/>");
						document.write("Artist(s) :" + song.artists.join(', ') + "<br/>");
						document.write("Genre(s) :" + song.genres.join(', ') + "<br/>");
                        document.write("Released " + song.year + " <br/>")
						document.write("<br/>");
                        
			        })

                });

	</script> -->
</body>
</html>
